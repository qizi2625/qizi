ç¬¬ä¸€æ­¥ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸ç¯å¢ƒæ­å»º
å¥½çš„ï¼Œæˆ‘ä»¬ä»é›¶å¼€å§‹ï¼Œä¸€æ­¥æ­¥æ­å»ºè¿™ä¸ªé¡¹ç›®ã€‚ä»Šå¤©æˆ‘ä»¬å…ˆå®Œæˆç¬¬ä¸€é˜¶æ®µï¼šç¯å¢ƒæ­å»ºä¸åŸºç¡€æ¶æ„çš„å‰3ä¸ªæ­¥éª¤ã€‚

ğŸ“‹ ä»Šæ—¥ä»»åŠ¡æ¸…å•
å®‰è£…å¼€å‘å·¥å…·ï¼ˆå¦‚æœè¿˜æ²¡è£…ï¼‰

åˆ›å»ºSpring Booté¡¹ç›®

é…ç½®æ•°æ®åº“å’ŒMyBatis

å®ç°ç¬¬ä¸€ä¸ªæ¥å£æµ‹è¯•è¿é€šæ€§

ä¸€ã€å®‰è£…å‡†å¤‡
å¦‚æœä½ ç”µè„‘ä¸Šè¿˜æ²¡æœ‰ä»¥ä¸‹å·¥å…·ï¼Œè¯·å…ˆå®‰è£…ï¼š

å·¥å…·	ç‰ˆæœ¬å»ºè®®	ä½œç”¨
JDK	1.8 æˆ– 11	Javaè¿è¡Œç¯å¢ƒ
MySQL	5.7+ æˆ– 8.0	æ•°æ®åº“
Maven	3.6+	é¡¹ç›®æ„å»º
IDEA	2020+ (æ¨èUltimate)	å¼€å‘IDE
Navicat æˆ– DataGrip	ä»»æ„	æ•°æ®åº“å¯è§†åŒ–å·¥å…·
Redis	5.0+	ç¼“å­˜ä¸­é—´ä»¶
ğŸ’¡ å°æç¤ºï¼šå¦‚æœå®‰è£…é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å…ˆå¾€ä¸‹èµ°ï¼Œå®‰è£…è¿‡ç¨‹å¯èƒ½æ¯”è¾ƒè€—æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¹¶è¡Œè¿›è¡Œã€‚

äºŒã€åˆ›å»ºSpring Booté¡¹ç›®
æ–¹å¼1ï¼šä½¿ç”¨IDEAç›´æ¥åˆ›å»ºï¼ˆæ¨èï¼‰
æ‰“å¼€IDEA â†’ New Project â†’ Spring Initializr

é…ç½®é¡¹ç›®ä¿¡æ¯ï¼š

Name: house-rental-system

Location: é€‰æ‹©ä½ çš„å·¥ä½œç›®å½•

Group: com.exampleï¼ˆå¯æ”¹ä¸ºä½ è‡ªå·±çš„åŸŸåå¦‚ com.ä½ çš„åå­—ï¼‰

Artifact: house-rental-system

Package: com.example.houserentalsystem

Java: 8 æˆ– 11

é€‰æ‹©ä¾èµ–ï¼ˆDependenciesï¼‰ï¼š

Spring Web - Webå¼€å‘

Spring Boot DevTools - çƒ­éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

Lombok - ç®€åŒ–ä»£ç 

Spring Security - æƒé™æ¡†æ¶ï¼ˆå¯é€‰ï¼Œæˆ‘ä»¬åé¢å¯ä»¥è‡ªå·±å†™JWTï¼Œå…ˆä¸å‹¾ä¹Ÿè¡Œï¼‰

MyBatis Framework - æ•°æ®åº“ORM

MySQL Driver - MySQLé©±åŠ¨

Spring Data Redis - Redisæ”¯æŒ

ç‚¹å‡»Finishï¼Œç­‰å¾…Mavenä¸‹è½½ä¾èµ–

æ–¹å¼2ï¼šä½¿ç”¨Spring Initializrç½‘ç«™
è®¿é—® https://start.spring.io/

å¡«å†™åŒæ ·çš„ä¿¡æ¯ï¼Œé€‰æ‹©ä¾èµ–

ç‚¹å‡»Generateä¸‹è½½é¡¹ç›®å‹ç¼©åŒ…

è§£å‹åç”¨IDEAæ‰“å¼€

ä¸‰ã€é¡¹ç›®ç»“æ„è§„åˆ’
åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬å…ˆè§„åˆ’ä¸€ä¸‹åŒ…ç»“æ„ã€‚åœ¨ com.example.houserentalsystem ä¸‹åˆ›å»ºä»¥ä¸‹åŒ…ï¼š

text
com.example.houserentalsystem
â”œâ”€â”€ config          // é…ç½®ç±»
â”œâ”€â”€ controller      // æ§åˆ¶å™¨å±‚
â”œâ”€â”€ service         // ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â””â”€â”€ impl        // æœåŠ¡å®ç°ç±»
â”œâ”€â”€ mapper          // MyBatisæ¥å£
â”œâ”€â”€ entity          // å®ä½“ç±»
â”œâ”€â”€ dto             // æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ utils           // å·¥å…·ç±»
â”œâ”€â”€ common          // å…¬å…±ç±»ï¼ˆè¿”å›ç»“æœã€å¸¸é‡ç­‰ï¼‰
â””â”€â”€ HouseRentalSystemApplication.java  // ä¸»å¯åŠ¨ç±»
å››ã€é…ç½®æ•°æ®åº“
1. åˆ›å»ºæ•°æ®åº“
æ‰“å¼€MySQLï¼Œæ‰§è¡Œä»¥ä¸‹SQLåˆ›å»ºæ•°æ®åº“ï¼š

sql
CREATE DATABASE IF NOT EXISTS house_rental 
DEFAULT CHARACTER SET utf8mb4 
DEFAULT COLLATE utf8mb4_general_ci;
2. é…ç½®application.yml
åœ¨ src/main/resources ç›®å½•ä¸‹ï¼Œå°† application.properties é‡å‘½åä¸º application.ymlï¼ˆæ›´æ–¹ä¾¿é˜…è¯»ï¼‰ï¼Œç„¶åå†™å…¥ï¼š

yaml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/house_rental?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: root
    password: 123456  # æ”¹æˆä½ è‡ªå·±çš„MySQLå¯†ç 
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  redis:
    host: localhost
    port: 6379
    database: 0
    timeout: 5000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0

mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.example.houserentalsystem.entity
  configuration:
    map-underscore-to-camel-case: true  # æ•°æ®åº“ä¸‹åˆ’çº¿è½¬é©¼å³°
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # æ‰“å°SQLæ—¥å¿—
äº”ã€åˆ›å»ºç¬¬ä¸€ä¸ªæµ‹è¯•æ¥å£
æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ§åˆ¶å™¨ï¼Œç¡®ä¿é¡¹ç›®èƒ½æ­£å¸¸è¿è¡Œã€‚

1. åˆ›å»ºç»Ÿä¸€è¿”å›ç»“æœç±»
åœ¨ common åŒ…ä¸‹åˆ›å»º Result.javaï¼š

java
package com.example.houserentalsystem.common;

import lombok.Data;

@Data
public class Result<T> {
    private Integer code;    // çŠ¶æ€ç ï¼š200æˆåŠŸï¼Œå…¶ä»–å¤±è´¥
    private String message;  // æç¤ºä¿¡æ¯
    private T data;          // è¿”å›æ•°æ®

    private Result(Integer code, String message, T data) {
        this.code = code;
        this.message = message;
        this.data = data;
    }

    // æˆåŠŸï¼ˆæ— è¿”å›æ•°æ®ï¼‰
    public static <T> Result<T> success() {
        return new Result<>(200, "æ“ä½œæˆåŠŸ", null);
    }

    // æˆåŠŸï¼ˆæœ‰è¿”å›æ•°æ®ï¼‰
    public static <T> Result<T> success(T data) {
        return new Result<>(200, "æ“ä½œæˆåŠŸ", data);
    }

    // æˆåŠŸï¼ˆè‡ªå®šä¹‰æ¶ˆæ¯ï¼‰
    public static <T> Result<T> success(String message, T data) {
        return new Result<>(200, message, data);
    }

    // å¤±è´¥
    public static <T> Result<T> error(String message) {
        return new Result<>(500, message, null);
    }

    // è‡ªå®šä¹‰å¤±è´¥
    public static <T> Result<T> error(Integer code, String message) {
        return new Result<>(code, message, null);
    }
}
2. åˆ›å»ºæµ‹è¯•æ§åˆ¶å™¨
åœ¨ controller åŒ…ä¸‹åˆ›å»º TestController.javaï¼š

java
package com.example.houserentalsystem.controller;

import com.example.houserentalsystem.common.Result;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.HashMap;
import java.util.Map;

@RestController
@RequestMapping("/api/test")
public class TestController {

    @GetMapping("/hello")
    public Result<Map<String, String>> hello() {
        Map<String, String> data = new HashMap<>();
        data.put("message", "é¡¹ç›®å¯åŠ¨æˆåŠŸï¼");
        data.put("time", String.valueOf(System.currentTimeMillis()));
        return Result.success(data);
    }
}
å…­ã€å¯åŠ¨æµ‹è¯•
1. å¯åŠ¨é¡¹ç›®
æ‰¾åˆ°ä¸»å¯åŠ¨ç±» HouseRentalSystemApplication.java

å³é”®ç‚¹å‡» Run 'HouseRentalSystemApplication'

æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹åˆ°ç±»ä¼¼ Started HouseRentalSystemApplication in X seconds è¡¨ç¤ºå¯åŠ¨æˆåŠŸ

2. æµ‹è¯•æ¥å£
æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttp://localhost:8080/api/test/hello

å¦‚æœçœ‹åˆ°å¦‚ä¸‹JSONå“åº”ï¼Œè¯´æ˜é¡¹ç›®æ­å»ºæˆåŠŸï¼š

json
{
    "code": 200,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {
        "message": "é¡¹ç›®å¯åŠ¨æˆåŠŸï¼",
        "time": "1645678901234"
    }
}
ä¸ƒã€å¸¸è§é—®é¢˜è§£å†³
é—®é¢˜	è§£å†³æ–¹æ¡ˆ
ç«¯å£è¢«å ç”¨	ä¿®æ”¹ server.port ä¸ºå…¶ä»–ç«¯å£ï¼ˆå¦‚8081ï¼‰
MySQLè¿æ¥å¤±è´¥	æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
é©±åŠ¨ç±»æ‰¾ä¸åˆ°	ç¡®è®¤pom.xmlä¸­æœ‰mysql-connector-javaä¾èµ–
ä¸­æ–‡ä¹±ç 	æ£€æŸ¥æ•°æ®åº“è¿æ¥URLæ˜¯å¦åŠ äº† characterEncoding=utf-8
âœ… ä»Šæ—¥æˆæœ
å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ å·²ç»æ‹¥æœ‰äº†ï¼š

ä¸€ä¸ªç»“æ„æ¸…æ™°çš„Spring Booté¡¹ç›®

é…ç½®å¥½çš„æ•°æ®åº“è¿æ¥

ç»Ÿä¸€çš„è¿”å›ç»“æœæ ¼å¼

ä¸€ä¸ªå¯ä»¥æµ‹è¯•çš„æ¥å£